# 관리자 페이지 사용 가이드

## 접속

**URL**: https://g2.sedaily.ai/admin/quiz  
**비밀번호**: `sedaily2024!`

---

## 퀴즈 관리 탭

### 퀴즈 생성

1. **날짜 선택**: 캘린더 아이콘 클릭하여 날짜 선택
2. **게임 테마 선택**: BlackSwan, PrisonersDilemma, SignalDecoding
3. **문제 유형 선택**: 객관식 또는 주관식
4. **질문 내용 입력**: 문제 텍스트 작성

#### 객관식
- 선택지 2~6개 입력
- 정답 선택지 클릭 (A, B, C 버튼)
- 선택지 추가/삭제 가능

#### 주관식
- 정답 텍스트 입력

5. **해설 입력** (선택사항)
6. **관련 기사** (선택사항):
   - 기사 제목
   - 기사 발췌문
   - 기사 URL
7. **태그 입력**: 예) 증권, 부동산
8. **저장 버튼 클릭**

### 저장 후 동작
- DynamoDB에 즉시 저장
- Archive 페이지에 자동 반영
- 사용자는 브라우저 새로고침만 하면 퀴즈 표시

---

## 퀴즈 삭제 탭

### 퀴즈 삭제

1. **게임 타입 선택**: 블랙스완, 죄수의 딜레마, 시그널 디코딩
2. **날짜 선택**: 드롭다운에서 삭제할 날짜 선택
3. **퀴즈 미리보기**: 선택한 날짜의 문제 목록 표시
4. **삭제 버튼 클릭**: 확인 후 삭제

### 삭제 후 동작
- DynamoDB에서 즉시 삭제
- Archive 페이지에서 자동으로 사라짐
- 복구 불가능 (주의!)

---

## Quizlet 관리 탭

### CSV 업로드

1. **세트명 입력**: 예) "2025년 1월 경제용어"
2. **CSV 파일 선택** 또는 **직접 입력**

#### CSV 형식
```csv
용어,정의,설명(선택)
GDP,국내총생산,한 나라의 경제 규모를 나타내는 지표
CPI,소비자물가지수,일반 소비자가 구입하는 상품과 서비스 가격 변동 측정
```

3. **저장 버튼 클릭**

### 샘플 다운로드
- "샘플 다운로드" 버튼으로 예제 CSV 다운로드

---

## 캐시 관리 탭

### 캐시 초기화

#### 모든 캐시 초기화
- 서버/클라이언트 모든 캐시 삭제
- 퀴즈 데이터 전체 새로고침

#### 게임별 캐시 초기화
- BlackSwan, PrisonersDilemma, SignalDecoding 개별 삭제

#### 오래된 캐시 정리
- 만료된 캐시만 삭제

### 사용 시점
- 퀴즈 데이터가 제대로 표시되지 않을 때
- 오래된 데이터가 계속 표시될 때

---

## 배포 관리 탭

### CloudFront 캐시 무효화

**명령어**:
```bash
aws cloudfront create-invalidation --distribution-id E8HKFQFSQLNHZ --paths "/*"
```

**사용 시점**:
- 코드 변경 후 재배포 시
- 정적 파일 (HTML/CSS/JS) 변경 시

**주의**:
- 퀴즈 데이터 변경 시에는 불필요
- 사용자는 브라우저 새로고침만 하면 됨

### Frontend 재배포

**명령어**:
```bash
bash scripts/deploy.sh
```

**사용 시점**:
- 컴포넌트 코드 변경
- 스타일 변경
- 새로운 기능 추가

---

## 배포 정보

- **S3 버킷**: g2-frontend-ver2
- **CloudFront ID**: E8HKFQFSQLNHZ
- **리전**: us-east-1
- **웹사이트**: https://g2.sedaily.ai

---

## 주의사항

### 퀴즈 저장
- 저장 후 즉시 DynamoDB에 반영
- Archive 페이지에서 바로 확인 가능
- CloudFront 캐시 무효화 불필요

### 퀴즈 삭제
- 삭제 후 복구 불가능
- DynamoDB에서 직접 복구해야 함
- 신중하게 삭제

### 브라우저 캐시
- 사용자는 Archive 페이지에서 강력 새로고침 필요
- Mac: Cmd + Shift + R
- Windows: Ctrl + Shift + R

---

## 문제 해결

### "저장 완료"인데 Archive에 안 보임
1. Archive 페이지 직접 접속
2. 강력 새로고침 (Cmd + Shift + R)
3. 여전히 안 보이면 캐시 관리 탭에서 캐시 초기화

### 502 에러
- 정적 사이트 특성상 일부 기능은 CLI 명령어로 실행
- 배포 관리 탭 참고

### API 호출 실패
- 환경 변수 확인: `.env.local`
- Lambda 로그 확인
- DynamoDB 데이터 확인

---

**마지막 업데이트**: 2025-11-26  
**문서 버전**: 2.0
